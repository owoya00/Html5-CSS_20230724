<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>장바구니</title>
  </head>
  <body>
    <a href="index.html"> 장 더보기</a>
    장바구니
    <ul id="ul"></ul>
    <input type="button" value="장바구니 비우기" id="clear_btn" />

    <script>
      const ul = document.querySelector("#ul");
      for (const key in localStorage) {
        const value = localStorage.getItem(key);
        if (value) {
          const a = value.split("|"); //a[0], a[1]
          const el = document.createElement("li"); //<li> </li> 생성
          const tx = document.createTextNode(a[0] + "" + a[1] + "개"); //내용생성
          el.appendChild(tx); //<li> 내용생성 </li>
          ul.appendChild(el);
        }
      }

      const clear_btn = document.querySelector("#clear_btn");
      clear_btn.addEventListener("click", () => {
        localStorage.clear();
        self.location.href = "index.html";
      });
    </script>
  </body>
</html>
